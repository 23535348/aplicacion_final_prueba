<div class="card" *ngIf="isLoading">
	<h5 class="card-header">Cargando..</h5>
	<div class="card-block text-xs-center">
		<i class="fa fa-circle-o-notch fa-spin fa-3x"></i>
	</div>
</div>

<div class="card" ng-click="logout()" >
	<a class="nav-link" [routerLink]="['']"><i class="fa fa-info-circle"></i> Salir</a>
</div>

<h5 class="card-header">Puntos de Interes ({{puntos.length}})</h5>
<button  class="btn btn-info btn-xs" role="button" (click)="enableAdd()"> Agregar Punto <i class="glyphicon glyphicon-plus-sign"></i></button>

<hr>
<div class="container" *ngIf="puntos.length === 0">
	<div class="row">
		<div class="col-xs-18 col-sm-12 col-md-12 text-center">
			<div class="row ">

					<h4>No hay puntos Registrados</h4>
						</div>
			</div>
		</div>


	</div>

<div class="container" *ngIf="!isLoading">
	<div class="row" *ngIf="isEditing === 1">
		<div class="col-xs-18 col-sm-6 col-md-6" *ngFor="let punto of puntos">
			<div class="thumbnail">
				<img src="http://placehold.it/250x250/EEE">

				<div class="caption">
					<ngui-map
							zoom="13"
							center="37.775, -122.434"
							(mapReady$)="onMapReady($event)"
							(mapClick)="onMapClick($event)"
							(idle)="onIdle($event)"
							mapTypeId="satellite">
						<marker *ngFor="let pos of positions"
								[position]="pos"
								(initialized$)="onMarkerInit($event)"></marker>
					</ngui-map>

				</div>
				<div class="caption">
					<h4>{{punto.nombre_punto_titulo}}</h4>
					<p>{{punto.direccion_comentario}}</div>
				<div class="caption">
					<h4>Acciones</h4>
					<p>
						<a href="#" class="btn btn-default btn-xs pull-right" role="button"><i class="glyphicon glyphicon-cog"></i></a>
						<a href="#" class="btn btn-info btn-xs" role="button"> Compartir <i class="glyphicon glyphicon-share"></i></a>
						<a href="#" class="btn btn-default btn-xs" role="button">Favorito <i class="glyphicon glyphicon-ok"></i></a>
						<a href="#" class="btn btn-default btn-xs" role="button"> Ir A <i class="glyphicon glyphicon-circle-arrow-right"></i></a>
						<button class="btn btn-xs btn-warning" (click)="enableEditing(punto)"><i class="fa fa-pencil"></i> Editar</button>
						<button class="btn btn-xs btn-danger" (click)="deletePunto(punto)"><i class="fa fa-trash"></i> Delete</button>

				</div>
				<div class="caption">
					<button ceiboShare  [facebook]="{u: repoUrl}">Facebook</button>
					<button ceiboShare  [linkedIn]="{url:repoUrl}">Linkedin</button>
					<button ceiboShare  [googlePlus]="{url:repoUrl}">Google Plus</button>
					<button ceiboShare  [twitter]="{url:repoUrl, text: punto.direccion_comentario , hashtags:punto.nombre_punto_titulo}">Twitter</button>
					<button ceiboShare [pinterest]="{url:repoUrl, media: imageUrl, description: punto.direccion_comentario}">Pinterest</button>

				</div>

			</div>
		</div>


	</div>

	</div>

<div class="card" *ngIf="isEditing === 2">
	<h5 class="card-header">Agregar Puntos</h5>
	<div class="card-block">

		<form class="form-inline" [formGroup]="addPuntoForm" (ngSubmit)="addPunto()" style="text-align:center">
		<div class="row" *ngIf="isEditing === 2">
				<div class="col-xs-18 col-sm-12 col-md-12" >
					<div class="thumbnail">
						<img src="http://placehold.it/250x250/EEE">
						<div class="caption">
							<div class="form-group">
								<input class="form-control" type="text" name="nombre_punto_titulo" formControlName="nombre_punto_titulo" placeholder="Nombre del punto">
							</div>
							<div class="form-group">
								<input class="form-control" type="number" name="punto_x" formControlName="punto_x" placeholder="PuntoX" min="0">
							</div>
							<div class="form-group">
								<input class="form-control" type="number" name="punto_y" formControlName="punto_y" placeholder="PuntoY" step="any" min="0">
							</div>
							<div class="form-group">
								<input class="form-control" type="text" name="usuario" formControlName="usuario" placeholder="Usuario">
							</div>
							<div class="form-group">
								<input class="form-control" type="text" name="foto_ranking" formControlName="foto_ranking" placeholder="Foto Ranking">
							</div>
							<div class="form-group">
								<input class="form-control" type="text" name="direccion_comentario" formControlName="direccion_comentario" placeholder="Direccion Comentario">
							</div>
							<div class="caption">
								<h4>Acciones</h4>
								<button class="btn btn-primary btn-xs" type="submit" [disabled]="!addPuntoForm.valid"><i class="fa fa-floppy-o"></i> Registrar</button>
								<button class="btn btn-xs btn-warning" (click)="cancelEditing()"><i class="fa fa-times"></i> Cancelar</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>

	</div>
</div>

<div class="card" *ngIf="isEditing === 3">
	<h5 class="card-header">Editar Puntos</h5>
	<div class="card-block">

		<form class="form-inline" [formGroup]="addPuntoForm"  #form="ngForm" (ngSubmit)="editPunto(punto)" style="text-align:center">
		<div class="row" *ngIf="isEditing === 3">
			<div class="col-xs-18 col-sm-12 col-md-12" >
				<div class="thumbnail">
					<img src="http://placehold.it/250x250/EEE">
					<div class="caption">
						<div class="form-group">
							<input class="form-control" type="text" name="nombre_punto_titulo" [(ngModel)]="punto.nombre_punto_titulo" formControlName="nombre_punto_titulo" placeholder="Nombre del punto">
						</div>
						<div class="form-group">
							<input class="form-control" type="number" name="punto_x" [(ngModel)]="punto.punto_x" formControlName="punto_x" placeholder="PuntoX" min="0">
						</div>
						<div class="form-group">
							<input class="form-control" type="number" name="punto_y"  [(ngModel)]="punto.punto_y" formControlName="punto_y" placeholder="PuntoY" step="any" min="0">
						</div>
						<div class="form-group">
							<input class="form-control" type="text" name="usuario"  [(ngModel)]="punto.usuario" formControlName="usuario" placeholder="Usuario">
						</div>
						<div class="form-group">
							<input class="form-control" type="text" name="foto_ranking"  [(ngModel)]="punto.foto_ranking" formControlName="foto_ranking" placeholder="Foto Ranking">
						</div>
						<div class="form-group">
							<input class="form-control" type="text" name="direccion_comentario"  [(ngModel)]="punto.direccion_comentario"  formControlName="direccion_comentario" placeholder="Direccion Comentario">
						</div>
					<div class="caption">
						<h4>Acciones</h4>
						<button class="btn btn-primary btn-xs" type="submit" [disabled]="!form.form.valid"><i class="fa fa-floppy-o"></i> Guardar</button>
						<button class="btn btn-xs btn-warning" (click)="cancelEditing()"><i class="fa fa-times"></i> Cancelar </button>
					</div>
				</div>
			</div>
		</div>
	</div>
		</form>

	</div>
</div>